default error messages http://www.w3.org/TR/IndexedDB/#dfn-transactioninactiveerror

FEATURES TO TRY NEXT
- FDBCursor methods
- FDBIndex methods

events implementation
- if "cancelable", should be possible to call e.preventDefault() and canel the "default action" (such as aborting a transaction)
  - example is the _canceled check in FDBTransaction

share some code between Index and ObjectStore, like getValue, confirmActiveTransaction
- similar thing between open and deleteDatabase

TRICKY THINGS TO FIGURE OUT (and test) ASAP:
- transaction and request scheduling
  - reevaluate all uses of setTimeout, setImmediate, and process.nextTick
  - that setTimeout thing will lead to stuff out of order if triggered
- transaction abort/rollback
  - also include key generator state somehow
  - objectStoreNames, indexNames

http://www.w3.org/TR/IndexedDB/

creating object stores, keys
- http://www.w3.org/TR/IndexedDB/#versionchange-transaction-steps

transactions
- event interaction with transaction: http://www.w3.org/TR/IndexedDB/#dfn-fire-a-success-event

convert tests from web-platform-tests and delete as i go
- missing:
  - test of aborted transaction rollback
  - (because of assert.throws I think) error propagation to transaction rejection
  - multiple transactions interacting, like readwrite blocking another but allowing readonly
- to fix and contribute back
  - idbfactory_open9 should use val in should_work
  - idbdatabase_close first 'block event fired #' should be 'versionchange event fired #'

events should have stopPropagation and preventDefault and such
- "The propagation path for the event is the transaction's connection, then transaction and finally request."

break events stuff into separate module

asyncify
- currently using setImmediate for transaction resolution and process.nextTick for queueing everything else

indexes
- research how to store data
- or maybe use something like https://github.com/louischatriot/nedb to actually store data
- initially, just don't. sort/filter as needed

"return this" needed at bottom of functions?

_ properties should be hidden from standard functions
- also nice toStrings
- maybe make some things immutable?

Other tests
- https://chromium.googlesource.com/chromium/blink/+/72fef91ac1ef679207f51def8133b336a6f6588f/LayoutTests/storage/indexeddb
- https://github.com/mozilla/gecko-dev/tree/master/dom/indexedDB/test

Change comment links to http://www.w3.org/TR/2015/REC-IndexedDB-20150108/ which will be stable

could event.target be automatically set to X in X.dispatchEvent(event);? Any time where that's not true?

Constructor to FDBVersionChangeEvent to reduce boilerplate

CAVEATS
- Couldn't find a good way to make objectStoreNames and indexNames DOMStringLists, so they are just normal arrays